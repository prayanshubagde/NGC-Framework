# Module Specification: M3 - CoLang (The Geometry of Thought)

**Version:** 1.0  
**Status:** DRAFT  
**Author:** Nathanael J. Bocker, inspired by Tyler Fischella  
**Date:** January 18, 2026

---

## 1. Purpose

This module serves as the **human-computer interface layer**. Its primary function is to act as a bidirectional translator. It converts unstructured, linear human language (e.g., text) into the structured, geometric representations required by the PSMSL engine. It also translates the abstract geometric insights produced by PSMSL back into human-understandable language.

## 2. Dependencies

-   **M1 (NGC):** Required to ensure that the output vectors conform to the system's fundamental coordinate space.

## 3. Core Data Structures

-   **Lexicon (Hash Map):** A dictionary mapping words and phrases to pre-defined geometric vectors or transformations. This is the core of the translation engine.
-   **Grammar Engine:** A state machine that interprets the sequence of words to apply transformations (e.g., rotation, scaling) to the base vectors from the lexicon.

## 4. API Specification

### `encode_text(text)`

-   **Description:** Parses a string of natural language text and converts it into a sequence of geometric state vectors, one for each time step (e.g., each sentence or clause).
-   **Inputs:**
    -   `text` (String): The natural language text to encode (e.g., "The price is rising quickly.").
-   **Outputs:**
    -   `Array of Arrays`: A sequence of N 3D vectors representing the geometric state of the concepts for each time step. `[[v1_t1, v2_t1, ...], [v1_t2, v2_t2, ...]]`
-   **Error Handling:**
    -   Throws `UnknownWordError` if the text contains words not in the lexicon.
    -   Throws `ParsingError` if the grammar is ambiguous or invalid.

### `decode_insight(diagnostics, context)`

-   **Description:** Translates a set of abstract diagnostic metrics from the PSMSL engine into a concise, human-readable sentence, given the current context.
-   **Inputs:**
    -   `diagnostics` (Object): The diagnostic state from PSMSL: `{ rho, omega, r_squared }`.
    -   `context` (Array of Strings): The list of concepts currently being tracked, to provide semantic context.
-   **Outputs:**
    -   `String`: A human-readable sentence describing the insight (e.g., "The system is becoming unstable," or "A new coherent pattern is emerging between 'price' and 'volume'.").
-   **Error Handling:**
    -   Throws `InvalidInputError` if the diagnostics object is malformed.

## 5. Performance Benchmarks

-   `encode_text`: **O(L*W)** where L is the number of sentences and W is the average number of words per sentence. Performance is dependent on the complexity of the grammar engine.
-   `decode_insight`: **O(1)**, as it involves a simple lookup and string formatting based on the input diagnostics.

---

**Â© Nathanael J. Bocker, 2026. All rights reserved.**
